<!-- navigation -->
<header class="navigation">
  <div class="container">
    <!-- navbar -->
    <nav class="navbar navbar-expand-lg navbar-light justify-content-between">
      <!-- navbar brand/logo -->
      <a class="navbar-brand" href="{{ site.BaseURL | relLangURL }}">
        {{ partial "logo.html" . }}
      </a>


      <div class="d-flex align-items-center">

        {{ if site.Params.navigation_button.enable }}
        <!-- Appearance Settings -->
        <div class="dropdown">
          <button class="btn btn-primary ms-lg-4 mt-2 mt-lg-0 dropdown-toggle" 
            data-bs-toggle="dropdown" 
            aria-haspopup="true"
            aria-expanded="false"
            data-bs-auto-close="outside">
            <i class="fas fa-sliders"></i>
            {{ i18n "appearance_dropdown" }}
          </button>
          <ul class="dropdown-menu">
            <li class="dropdown-item"> 
              <a class="dropdown-item theme-switcher">Theme Switcher</a> 
            </li>
            <ul>
              <li class="dropdown-item">
                <div class="form-check radio-field">
                  <input class="form-check-input" type="radio" 
                    name="theme-picker" 
                    id="theme-dark">
                  <label class="form-check-label" for="theme-dark">
                    {{ i18n "theme_dark" }}
                  </label>
                </div>
              </li>
              <li class="dropdown-item">
                <div class="form-check radio-field">
                  <input class="form-check-input" type="radio" name="theme-picker" id="theme-light">
                  <label class="form-check-label" for="theme-light">
                    {{ i18n "theme_light" }}
                  </label>
                </div>
              </li>
              <li class="dropdown-item">
                <div class="form-check radio-field">
                  <input class="form-check-input" type="radio" name="theme-picker" id="theme-auto">
                  <label class="form-check-label" for="theme-auto">
                    {{ i18n "theme_auto" }}
                  </label>
                </div>
              </li>
            </ul>
            <li class="dropdown-item">
              <div class="switch-field">
                {{ partial "switch" (dict "id" "switch-large-text") }} 
                <label for="switch-large-text"> {{ i18n "switch_large_text"}}
                </label>
              </div>
            </li>

            <li class="dropdown-item">
              <div class="switch-field">
                {{ partial "switch" (dict "id" "switch-reduce-animation") }} 
                <label for="switch-reduce-animation"> {{ i18n "switch_reduce_animation"}}
                </label>
              </div>
            </li>
          </ul>
        </div> 

        {{ end }}
      </div>


    </nav>
  </div>
</header>
<!-- /navigation -->


<!-- theme switcher -->
{{ if site.Params.theme_switcher }}
<script>
  var darkMode = {{if eq site.Params.theme_default "dark"}}true{{else}}false{{end}};
  {{ if eq site.Params.theme_default "automatic" }}
  if (window.matchMedia('(prefers-color-scheme: dark)').matches){darkMode = true}
  {{ end }}
  if (localStorage.getItem('theme') === 'dark'){darkMode = true}
  else if (localStorage.getItem('theme') === 'light'){darkMode = false}
  if (darkMode){document.body.classList.toggle('dark')}
  document.addEventListener('DOMContentLoaded', () => {
    var themeSwitch = document.querySelectorAll('.theme-switcher');
    [].forEach.call(themeSwitch, function (ts) {
      ts.addEventListener('click', () => {
        document.body.classList.toggle('dark');
        localStorage.setItem('theme', document.body.classList.contains('dark') ? 'dark' : 'light');
      });
    })
  });
</script>
{{ end }}